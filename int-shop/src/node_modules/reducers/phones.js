import * as R from 'ramda'

const initialState = {}

export default (state = initialState, { type, payload }) => {
  switch (type) {
    case 'FETCH_ALL_PHONES_REQUEST':
      return { ...state }

    case 'FETCH_ALL_PHONES_SUCCESS':
      const newValue = R.indexBy(R.prop('id'), payload)
      return R.merge(state, newValue)
      // const newState = payload          // --- file: /selectors --- line - 7
      // return R.merge(state, newState)

    case 'FETCH_ALL_PHONES_FAILURE':
      return {
        ...state,
        error: payload
      }

    case 'LOAD_MORE_PHONES_SUCCESS':
      const moreValue = R.indexBy(R.prop('id'), payload)
      return R.merge(state, moreValue)
      // const newState = payload
      // return R.merge(state, newState)

    case 'FETCH_PHONE_BY_ID_SUCCESS':
      return R.assoc(payload.id, payload, state)

    default:
      return state
  }
}